<html>
    <head>
        <title> QuickJS </title>

        <script type="text/javascript" src="../quick_tokenizer.js"></script>
        <script type="text/javascript" src="../quick_compiler.js"></script>
        <script type="text/javascript" src="../quick_dom.js"></script>
        <script type="text/javascript" src="../quick_helper.js"></script>
        <script type="text/javascript" src="../quick.js"></script>

        <script type="text/javascript">

        function init () {
            Quick.useQueryFlags();
            Quick.compileScriptTags();
        }

        </script>

        <script type="text/jml">

        MyDelegate @ Item {
            top: 0 + (this.modelData * (this.height + 2));
            left: 0
            width: 200
            height: 30
            background-color: "purple"
            border-width: 1
            border-color: "white"
            border-style: "solid"

            Text {
                text: this.parent.parent.label + " " + this.parent.modelData
                color: "white"
                left: (this.parent.width / 2.0) - (this.textWidth / 2.0)
                top: (this.parent.height / 2.0) - (this.textHeight / 2.0)

            }
        }

        Item {
            delegate: MyDelegate;
            model: 100;
            label: "My Delegate";
            width: 100;
            height: 100;
            background-color: "blue";
            onload: ^{
                for (var i = 0; i < this.model; ++i) {
                    var child = this.createdelegate();
                    child.modelData = i;
                    this.addChild(child);
                    child.initializeBindings();
                }
            }^
        }

        </script>

    </head>

    <body onload="init();">
    </body>
</html>

