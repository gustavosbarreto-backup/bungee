<html>
    <head>
        <title> QuickJS </title>

        <script type="text/javascript" src="../quick_tokenizer.js"></script>
        <script type="text/javascript" src="../quick_compiler.js"></script>
        <script type="text/javascript" src="../quick_dom.js"></script>
        <script type="text/javascript" src="../quick_helper.js"></script>
        <script type="text/javascript" src="../quick.js"></script>

        <script type="text/javascript">

        function init () {
            Quick.useQueryFlags();
            Quick.compileScriptTags();
        }

        </script>

        <script type="text/jml">

        MyDelegate @ Item {
            top: 0 + (this.modelData * (this.height + 2));
            left: 0
            width: 400
            height: 70
            background-color: "#00aeef"

            Image {
                id: delegateImage
                src: "person.png"
                width: 64
                height: 64
                left: 20
                top: this.parent.verticalCenter - this.verticalCenter
            }

            Text {
                id: delegateText
                text: "Delegate" + this.parent.modelData
                color: "white"
                font-size: 24
                left: this.delegateImage.right + 10
                top: this.parent.verticalCenter - this.verticalCenter
            }
        }

        Item {
            delegate: MyDelegate;
            model: 200;

            onload: ^{
                var children = [this.model];
                for (var i = 0; i < this.model; ++i) {
                    var child = this.createdelegate();
                    child.modelData = i;
                    child.initializeBindings();
                    children[i] = child;
                }
                this.addChildren(children);
            }^
        }

        </script>

    </head>

    <body onload="init();">
    </body>
</html>

