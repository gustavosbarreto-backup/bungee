<html>
    <head>
        <title> QuickJS </title>

        <script type="text/javascript" src="../../src/quick_tokenizer.js"></script>
        <script type="text/javascript" src="../../src/quick_compiler.js"></script>
        <script type="text/javascript" src="../../src/quick_dom.js"></script>
        <script type="text/javascript" src="../../src/quick_animation.js"></script>
        <script type="text/javascript" src="../../src/quick_helper.js"></script>
        <script type="text/javascript" src="../../src/quick.js"></script>

        <script type="text/jml">

        Item {
            backgroundColor: "purple"
            onload: this.anim.start();
            left: window.innerWidth/2 - this.width/2
            top: window.innerHeight/2 - this.height/2

            Animation {
                id: anim
                target: this.parent
                duration: 7000
                loops: "infinite"

                Step {
                    percentage: 0
                    left: 0
                    top: 0
                    opacity: 1
                }

                Step {
                    percentage: 25
                    left: window.innerWidth - this.parent.parent.width
                    top: 100
                    opacity: 0.5
                }

                Step {
                    percentage: 50
                    top: window.innerHeight - this.parent.parent.height
                    left: window.innerWidth - this.parent.parent.width
                    opacity: 1
                }

                Step {
                    percentage: 75
                    top: window.innerHeight - this.parent.parent.height - 300
                    left: 200
                    opacity: 0.5
                }

                Step {
                    percentage: 100
                    left: 0
                    top: 0
                    opacity: 1
                }
            }
        }

        Item {
            backgroundColor: "#3C7DC1"
            hoverEnabled: true
            onactivated: this.left = this.left !== 0 ? 0 : (window.innerWidth - this.width)
            width: 200
            left: 0
            top: window.innerHeight/2 - this.height/2

            Behavior {
                left: "2s"
                target: this.parent
            }
        }

        </script>

    </head>

    <body onload="Quick.run();" style="margin: 0">
    </body>
</html>

